apiVersion: external-secrets.io/v1alpha1
kind: PushSecret
metadata:
  name: testing-pushsecret
spec:
  refreshInterval: 10s # Refresh interval for which push secret will reconcile
  secretStoreRefs:
    - name: mainvault-core
      kind: ClusterSecretStore
  selector:
    secret:
      name: test-secret
  template:
    data:
      best-pokemon: 'test'
    # Uses an existing template from configmap
    # Secret is fetched, merged and templated within the referenced configMap data
    # It does not update the configmap, it creates a secret with: data["alertmanager.yml"] = ...result...
    templateFrom:
      - configMap:
          name: kube-root-ca.crt
