{{ range .Values.clusters }}
---
apiVersion: cluster.open-cluster-management.io/v1
kind: ManagedCluster
metadata:
  labels:
    cluster.open-cluster-management.io/clusterset: default
  name: {{ .name }}

spec:
  hubAcceptsClient: true
  leaseDurationSeconds: 60
  managedClusterClientConfigs:
    - caBundle: {{ .caBundle }}
      url: {{ .apiHost }}

{{- end }}