apiVersion: networking.istio.io/v1beta1
kind: Gateway
metadata:
  name: core-gateway

  labels:
    wan-mode: 'public'

  annotations:
    external-dns.alpha.kubernetes.io/target: k0s-dc1.resolvemy.host.

spec:
  selector:
    #
    # Default Istio Gateway
    #
    # Deployed [here](https://gitlab.git.writemy.codes/KJDev/CORE-Backplane/-/blob/main/Mesh/Service/Istio/templates/Gateway.yaml)
    #

    istio: ingressgateway


  servers:

    - port:
        number: 443
        name: https-mylogin
        protocol: HTTPS

      tls:
        mode: SIMPLE
        credentialName: myloginspace-default-certificates

      hosts:
        - '*.mylogin.space'
        - '*.s3.mylogin.space'

    - port:
        number: 443
        name: https-mylogin-int
        protocol: HTTPS
      tls:
        mode: SIMPLE
        credentialName: myloginspace-int-default-certificates
      hosts:
        - '*.int.mylogin.space'

    - port:
        number: 443
        name: https-writemycodes
        protocol: HTTPS
      tls:
        mode: SIMPLE
        credentialName: writemycodes-default-certificates
      hosts:
        - '*.writemy.codes'


    #
    #
    # Storage
    #
    #



    #
    # Content Delivery and Caching 
    #
    - port:
        number: 80
        name: http-main
        protocol: HTTP
      hosts:
        - static.mylogin.space
        - speak.mylogin.space
        - 10.1.1.83

    #
    # Media Delivery
    #

    #
    # HTTPS Redirects
    #






         