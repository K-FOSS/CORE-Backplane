apiVersion: tinkerbell.org/v1alpha1
kind: Hardware
metadata:
  name: infra2

  labels:
    idrac-version: '6'
    manufacturer: dell
    resolvemy.host/dc: '1'
    resolvemy.host/machinetype: baremetal    
    resolvemy.host/rack: '1'  

spec:
  interfaces:
    - dhcp:
        arch: x86_64
        hostname: infra2
        ip:
          address: 172.16.20.140
          gateway: 172.16.20.254
          netmask: 255.255.255.0
        lease_time: 86400
        mac: f0:4d:a2:09:60:ba
        name_servers:
          - 1.1.1.1
          - 1.0.0.1
      disableDhcp: false
      netboot:
        allowPXE: true
        allowWorkflow: false
        ipxe:
          contents: >
            #!ipxe

            dhcp 

            kernel https://boot.netboot.xyz/memdisk iso raw

            initrd https://static.mylogin.space/Dell.iso


            boot
  metadata:
    facility:
      facility_code: onprem
    instance:
      hostname: infra2
      id: f0:4d:a2:09:60:ba
    manufacturer:
      slug: dell