apiVersion: v1
kind: Service
metadata:
  name: {{ include "dhcp.fullname" . }}-dhcp
  annotations:
    {{ .Values.serviceAnnotations | indent 4 }}
  labels:
{{ include "dhcp.labels" . | indent 4 }}
spec:
  clusterIP: None
  ports:
    - port: 67
      targetPort: udp-dhcp
      protocol: UDP
      appProtocol: bootps
      name: udp-dhcp

    - port: 67
      targetPort: tcp-dhcp
      protocol: TCP
      appProtocol: bootps
      name: tcp-dhcp
  selector:
    {{- include "dhcp.selectorLabels" . | nindent 4 }}
